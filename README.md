# TOUCH: Test Generator for Cause Effect Graphs

This repository provides an open source toolset to generate test inputs from Boolean system specifications. The implementation in this repository is an extended version of the a masters thesis [1]. The tool can create mutants on the original specifications, perform mutation analysis using the generated -or imported- test inputs and the generated -or imported- mutants to evaluate the mutation kill success of the test input set.
The tool has implementations of state-of-the-art algorithms for test input generation :
MI, MAX-A, MUTP, MNFP, CUTPNFP, MUMCUT, Unique MC/DC, Masking MC/DC, Myer's cause effect graphing method, exhaustive testing, random test generation, and a novel mutant-based test input generation method, called Spectral Analysis. This method uses the mutants of 9 types that are generated to generate test inputs. The tool also provides a version of Spectral Analysis where the test inputs are generated from mutants of only 4 types. 

## Input Formats

The tool provides a UI to the user to Import CEG models in .graphml files, which is an extended version of the original graphml standard. Examples can be found in the repository. The previously created test inputs and mutants can be a simple .txt file that can be imported to TOUCH. An imported mutant file can be a .txt file with each line defining a mutant as a Boolean expression, e.g. {E1, Clause Conjunction, ((C1 && C2) || !C3)}. An imported test set can be a .txt file defining a test input at each line by providing the truth values for each cause in a paired format, e.g. {(C1, True),(C2, False)}. 

## Sample Use Case

The UI of the tool can be run under src/Tool.java, which will run the application.

### Test Input Generation

TOUCH tool starts with the Main Page. In a normal flow for test input generation and mutation analysis, first, the user imports a CEG model as a .graphml file to TOUCH, by using the Import Graph button. Once the .graphml is imported, the causes from the imported CEG and all the effect expressions are shown in UI, parsing and providing a representation of the expressions to the user. After the causes and the effect expressions are listed, one of the implemented methods is selected from the drop-down menu (Myers, MI, MC/DC, etc.), and Generate button is used to generate test inputs for the imported graph. Generated test inputs are listed with the total number of test inputs on UI. Moreover, generated test set can be exported as a text or XML file using the Export button. A set of test inputs can also be imported using the Import Test Set button after the related graph is imported, directly to be used in mutation analysis. When any test set is imported to TOUCH, the elimination of repetitive test inputs takes place in the loading process, similar to the generated test inputs from any one of the methods. These features related to testing input generation/import can be done on the main page of the tool. A screenshot from the tool where a CEG model is imported in the Main module, and test inputs are generated by Myers' method is given below.

![](/Figures/tool1.png)

### Mutation Analysis

For using mutation analysis features, the Mutation Analysis button is used to open the analysis page of the tool. Here, mutation analysis can be performed by importing a set of mutants by using the Import Mutants and Analyze button or generating mutants for the graph with selected 9 fault types by using the Mutation Analysis button. For the mutation analysis in the tool, the following fault classes are modeled and implemented: Operator Reference Fault (ORF), Expression Negation Fault (ENF), Variable Negation Fault (VNF), Missing Variable Fault (MVF), Variable Reference Fault (VRF), Clause Conjunction Fault (CCF), Clause Disjunction Fault (CDF) Stuck at-0 (SA0), Stuck at-1 (SA1). Although only four of them are enough to cover the others, all nine fault classes are modeled in order to see the success of methods on each fault class for analysis and comparison purposes. By these models, mutants can be created by making single changes to the original Boolean expressions of the imported system. Once mutants are created or mutants are imported, the test set selected from the main page of the tool is run over all the mutants, and the number of mutants that are killed and survived is counted for each fault type. Once the analysis is done, a report providing the number of killed mutants, number of all created mutants, and the kill success rate is shown for each fault class. A screenshot from the tool where the Mutation Analysis module is opened and mutation analysis is performed on test inputs generated by Myers method is given below. This mutation analysis result can be exported as a .txt or an XML file by using Export button. 

![](/Figures/tool2.png)

## Software Design

The architectural design of TOUCH software implements best practices for possible future extensions by using Strategy Pattern in the implementation of both mutation and test input generation methods. This modular design approach allows researchers and developers to add other fault types and other test input generation methods easily by providing new classes implementing given interfaces. Moreover, new input types can also be integrated by implementing a middle adaptor between any format and defined .graphml format.

## TODO

Implementation of other methods like CEG_BOR and BOR_MI are started but not completed.

## Citing

If you have used our work please cite us
```tex
@article{kavzak2021test, 
  title={Test input generation from cause--effect graphs}, 
  author={Kavzak Ufuktepe, Deniz and Ayav, Tolga and Belli, Fevzi}, 
  journal={Software Quality Journal}, 
  volume={29}, 
  number={4}, 
  pages={733--782}, 
  year={2021}, 
  publisher={Springer} 
} 
```
